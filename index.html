<!DOCTYPE html>
<html>
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
  <!-- Styles to make the chat widget full-screen -->
  <style>
    messagebird-chat {
      position: fixed !important;
      top: 0 !important;
      left: 0 !important;
      width: 100% !important;
      height: 100% !important;
      max-width: none !important;
      max-height: none !important;
      border-radius: 0 !important;
    }

    /* Hide the close button inside the chat widget */
    messagebird-chat::part(close-button) {
      display: none !important;
    }
  </style>
  <!-- Module script -->
  <script defer type="module" src="https://embeddables.p.mbirdcdn.net/v1/web-components.es.js"></script>
</head>
<body>
  <button id="auto-chat" hidden data-mbchat-trigger="b2dba7be-8ee6-4c14-afcb-09ff3907cf2f"></button>

  <messagebird-chat project-id="b2dba7be-8ee6-4c14-afcb-09ff3907cf2f" workspace-id="a1b37cbd-b29d-4371-a81a-c1cd939b73a2"></messagebird-chat>

  <!-- Script to auto-trigger the chat button -->
  <script>
    window.addEventListener("load", function () {
      const chatButton = document.getElementById("auto-chat");
      if (chatButton) {
        chatButton.click(); // Automatically trigger the chat button
        console.log("Chat button triggered after all resources have fully loaded.");
      } else {
        console.error("Chat button with ID 'auto-chat' not found.");
      }
    });

      // Loop through all buttons on the page
document.querySelectorAll('button').forEach(button => {
    // Access the text content within the `.sr-only` span inside the button
    const srOnlyText = button.querySelector('.sr-only')?.textContent;
    
    // Check if the `.sr-only` span text includes "close widget" or "Download transcript" 
    if (srOnlyText?.includes("close widget") || srOnlyText?.includes("Download transcript")) {
        // Set display to 'none' to hide the button
        button.style.display = 'none';
    }
});
  </script>
</body>
</html>
